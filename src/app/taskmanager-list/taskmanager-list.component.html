<ngx-spinner bdColor="rgba(0,0,0,0.5)" size="medium" color="#fff" type="line-spin-fade" [fullScreen]="true">
  <p style="color: #fff"> Loading... </p>
</ngx-spinner>

<div class="container">
  <div class="row">
    <img src="/assets/banner-digital-tree.png" alt="" width="100%">
  </div>

  <div class="row">
    <div class="panel panel-primary">
      <div class="panel-heading mt-30">
        <h2>Taskmanager List</h2>
        <button (click)="addTaskmanager()" class="btn btn-primary">Add Task</button>
      </div>
      <div class="panel-body">

        <div *ngIf="taskmanager.length !== 0">
          <mat-form-field>
            <mat-label>Search Task</mat-label>
            <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Task">
          </mat-form-field>
          <div class="mat-elevation-z8">
            <table mat-table [dataSource]="dataSource" matSort>

              <!-- ID Column -->
              <ng-container matColumnDef="description">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Description </th>
                <td mat-cell *matCellDef="let row"> {{ row.description }} </td>
              </ng-container>

              <!-- Progress Column -->
              <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Id </th>
                <td mat-cell *matCellDef="let row"> {{ row.id }} </td>
              </ng-container>

              <!-- Color Column -->
              <ng-container matColumnDef="priority">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Priority </th>
                <td mat-cell *matCellDef="let row"> {{ row.priority }} </td>
              </ng-container>

              <!-- Name Column -->
              <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
                <td mat-cell *matCellDef="let row"> {{ row.status }} </td>
              </ng-container>

              <!-- Name Column -->
              <ng-container matColumnDef="CRUD Action">
                <th class="crud" mat-header-cell *matHeaderCellDef mat-sort-header> CRUD Action </th>
                <td mat-cell *matCellDef="let row">
                  <button (click)="deleteTask(row.name)" class="btn btn-danger">Delete</button>
                  <button (click)="updateTask(row.name)" class="btn btn-info">Update</button>
                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;">
              </tr>

              <!-- Row shown when there is no matching data. -->
              <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="4">No data matching the search.</td>
              </tr>
            </table>

            <mat-paginator [length]="100" [pageSize]="5" [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
          </div>
        </div>

        <div *ngIf="taskmanager.length === 0" class="no-records">No records found</div>
      </div>
    </div>
  </div>

</div>